"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[687],{3687:function(t,s,e){e.r(s),e.d(s,{default:function(){return q}});var r=e(8683),n=e(5671),i=e(3144),o=e(136),u=e(5716),a=e(2791),l={profileInfoImg:"ProfileInfo_profileInfoImg__R49Ll"},c=e(500),p=e(885),d=e(184),f=function(t){var s=(0,a.useState)(!1),e=(0,p.Z)(s,2),r=e[0],n=e[1],i=(0,a.useState)(t.status),o=(0,p.Z)(i,2),u=o[0],l=o[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,d.jsx)("div",{children:r?(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"text",autoFocus:!0,onChange:function(t){l(t.currentTarget.value)},onBlur:function(){n(!1),t.updateUserStatus(u)},value:u})}):(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"------"})})})},h=function(t){var s=t.profile,e=t.status,r=t.updateUserStatus;return s?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:(0,d.jsx)("img",{className:l.profileInfoImg,src:"https://sun9-12.userapi.com/impg/UvVPRI_LiSEp-kOwFQlLDeH37AOhq36mJVSFKg/QKcTyKChz3g.jpg?size=1920x1080&quality=96&sign=a11517a8914c7e7ba6a08784dca2abfe&type=album",alt:"love"})}),(0,d.jsxs)("div",{className:l.descriptionBlock,children:[(0,d.jsx)("img",{src:s.photos.small,alt:"smallPhoto"}),(0,d.jsx)(f,{status:e,updateUserStatus:r}),(0,d.jsx)("p",{children:s.fullName}),(0,d.jsx)("input",{type:"checkbox",checked:s.lookingForAJob}),(0,d.jsx)("p",{children:s.lookingForAJobDescription}),JSON.stringify(s.contacts)]})]}):(0,d.jsx)(c.p,{})},m=e(81),x="MyPosts_postsBlock__O0xC2",j="MyPosts_posts__yhxIW",v=e(5987),g="Post_item__cwY0r",y=["message","likesCounts"],b=function(t){var s=t.message,e=t.likesCounts;(0,v.Z)(t,y);return(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)("img",{src:"https://sun9-60.userapi.com/impg/YdOcbH3mO846v2o4vHTD58R7cG0beppAXgKjXQ/P2dWvkdSoBU.jpg?size=512x512&quality=96&sign=b6e76ea19bb4a2c9237f3d552869684b&type=album",alt:"bg-bear"}),s,(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{children:"Like"})," ",e]})]})},S=e(6139),k=e(704),P=e(3079),Z=e(9921),I=(0,P.D)(15),U=(0,a.memo)((function(t){var s=t.posts,e=t.addPost;console.log("myPosts render");var r=s.map((function(t){return(0,d.jsx)(b,{id:t.id,message:t.post,likesCounts:t.likesCount},t.id)}));return(0,d.jsxs)("div",{className:x,children:[(0,d.jsx)("h3",{children:"My posts"}),(0,d.jsx)(_,{onSubmit:function(t){e(t.newPostText)}}),(0,d.jsx)("div",{className:j,children:r})]})})),_=(0,k.Z)({form:"profileAddNewPostForm"})((function(t){return(0,d.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,d.jsx)("div",{children:(0,d.jsx)(S.Z,{component:Z.II,type:"textarea",name:"newPostText",placeholder:"Enter your message",validate:[P.C,I]})}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:"Add post"})})]})})),C=e(7375),A=(0,C.$j)((function(t){return{posts:t.profilePage.posts}}),{addPost:m.q2})(U),w=function(t){return(0,d.jsxs)("div",{children:[(0,d.jsx)(h,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus}),(0,d.jsx)(A,{})]})},N=e(9271),D=e(2932),O=e(7781),T=function(t){(0,o.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t=Number(this.props.match.params.userId);t||(t=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,d.jsx)(w,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))}}]),e}(a.Component),q=(0,O.qC)((0,C.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,autorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:m.et,getUserStatus:m.Tq,updateUserStatus:m.OL}),N.EN,D.D)(T)},2932:function(t,s,e){e.d(s,{D:function(){return d}});var r=e(8683),n=e(5671),i=e(3144),o=e(136),u=e(5716),a=e(2791),l=e(9271),c=e(7375),p=e(184),d=function(t){var s=function(s){(0,o.Z)(a,s);var e=(0,u.Z)(a);function a(){return(0,n.Z)(this,a),e.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(t,(0,r.Z)({},this.props)):(0,p.jsx)(l.l_,{to:"/login"})}}]),a}(a.Component);return(0,c.$j)(f)(s)},f=function(t){return{isAuth:t.auth.isAuth}}},885:function(t,s,e){e.d(s,{Z:function(){return n}});var r=e(181);function n(t,s){return function(t){if(Array.isArray(t))return t}(t)||function(t,s){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,n,i=[],o=!0,u=!1;try{for(e=e.call(t);!(o=(r=e.next()).done)&&(i.push(r.value),!s||i.length!==s);o=!0);}catch(a){u=!0,n=a}finally{try{o||null==e.return||e.return()}finally{if(u)throw n}}return i}}(t,s)||(0,r.Z)(t,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=687.13e82ba3.chunk.js.map