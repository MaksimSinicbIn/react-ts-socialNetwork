"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[110],{1110:function(t,e,s){s.r(e),s.d(e,{default:function(){return q}});var r=s(8683),n=s(5671),i=s(3144),o=s(136),a=s(5716),u=s(2791),l=s(885),c={profileInfoImg:"ProfileInfo_profileInfoImg__R49Ll",mainPhoto:"ProfileInfo_mainPhoto__41t8k",contact:"ProfileInfo_contact__laOk-"},d=s(5898),p=s(500),h=s(184),f=function(t){var e=(0,u.useState)(!1),s=(0,l.Z)(e,2),r=s[0],n=s[1],i=(0,u.useState)(t.status),o=(0,l.Z)(i,2),a=o[0],c=o[1];(0,u.useEffect)((function(){c(t.status)}),[t.status]);return(0,h.jsx)("div",{children:r?(0,h.jsx)("div",{children:(0,h.jsx)("input",{type:"text",autoFocus:!0,onChange:function(t){c(t.currentTarget.value)},onBlur:function(){n(!1),t.updateUserStatus(a)},value:a})}):(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Status"}),": ",(0,h.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"------"})]})})},m=s(7202),x=s(704),j=s(9921),v=(0,x.Z)({form:"edit-profile"})((function(t){var e=t.handleSubmit,s=t.profile,r=t.error;return(0,h.jsxs)("form",{onSubmit:e,children:[(0,h.jsx)("button",{onClick:function(){},children:"Save"}),r&&(0,h.jsx)("div",{className:m.Z.formSummaryError,children:r}),(0,h.jsx)("div",{children:(0,h.jsx)("b",{children:(0,j.Gr)("Full name","fullName",[],j.II)})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Looking for a job"}),": ",(0,j.Gr)("","lookingForAJob",[],j.II,{type:"checkbox"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"My professional skills"}),": ",(0,j.Gr)("My professional skills","lookingForAJobDescription",[],j.gx)]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"About me"}),": ",(0,j.Gr)("About me","aboutMe",[],j.gx)]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Contacts"}),": ",Object.keys(s.contacts).map((function(t){return(0,h.jsx)("div",{children:(0,h.jsxs)("b",{children:[t,": ",(0,j.Gr)(t,"contacts."+t,[],j.II)]})},t)}))]})]})})),b=function(t){var e=t.profile,s=t.status,r=t.isOwner,n=t.updateUserStatus,i=t.savePhoto,o=t.saveProfile,a=(0,u.useState)(!1),m=(0,l.Z)(a,2),x=m[0],j=m[1];if(!e)return(0,h.jsx)(p.p,{});return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{className:c.profileInfoImg,src:"https://sun9-12.userapi.com/impg/UvVPRI_LiSEp-kOwFQlLDeH37AOhq36mJVSFKg/QKcTyKChz3g.jpg?size=1920x1080&quality=96&sign=a11517a8914c7e7ba6a08784dca2abfe&type=album",alt:"love"})}),(0,h.jsxs)("div",{className:c.descriptionBlock,children:[(0,h.jsx)("img",{src:e.photos.large||d,alt:"smallPhoto",className:c.mainPhoto}),r&&(0,h.jsx)("input",{type:"file",onChange:function(t){var e;null!==(e=t.currentTarget.files)&&void 0!==e&&e.length&&i(t.currentTarget.files[0])}}),x?(0,h.jsx)(v,{initialValues:e,profile:e,onSubmit:function(t){o(t).then((function(){j(!1)}))}}):(0,h.jsx)(g,{profile:e,isOwner:r,goToEditMode:function(){return j(!0)}}),(0,h.jsx)(f,{status:s,updateUserStatus:n})]})]})},g=function(t){var e=t.profile,s=t.isOwner,r=t.goToEditMode;return(0,h.jsxs)("div",{children:[s&&(0,h.jsx)("button",{onClick:r,children:"Edit"}),(0,h.jsx)("div",{children:(0,h.jsx)("b",{children:e.fullName})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Looking for a job"}),": ",e.lookingForAJob?"Yes":"No"]}),e.lookingForAJob&&(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"About me"}),":"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(t){return(0,h.jsx)(y,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},y=function(t){var e=t.contactTitle,s=t.contactValue;return(0,h.jsxs)("div",{className:c.contact,children:[(0,h.jsx)("b",{children:e}),": ",s]})},P=s(81),k="MyPosts_postsBlock__O0xC2",I="MyPosts_posts__yhxIW",S=s(5987),_="Post_item__cwY0r",Z=["message","likesCounts"],w=function(t){var e=t.message,s=t.likesCounts;(0,S.Z)(t,Z);return(0,h.jsxs)("div",{className:_,children:[(0,h.jsx)("img",{src:"https://sun9-60.userapi.com/impg/YdOcbH3mO846v2o4vHTD58R7cG0beppAXgKjXQ/P2dWvkdSoBU.jpg?size=512x512&quality=96&sign=b6e76ea19bb4a2c9237f3d552869684b&type=album",alt:"bg-bear"}),e,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"Like"})," ",s]})]})},A=s(6139),C=s(3079),U=(0,C.D)(15),O=(0,u.memo)((function(t){var e=t.posts,s=t.addPost;console.log("myPosts render");var r=e.map((function(t){return(0,h.jsx)(w,{id:t.id,message:t.post,likesCounts:t.likesCount},t.id)}));return(0,h.jsxs)("div",{className:k,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(N,{onSubmit:function(t){s(t.newPostText)}}),(0,h.jsx)("div",{className:I,children:r})]})})),N=(0,x.Z)({form:"profileAddNewPostForm"})((function(t){return(0,h.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(A.Z,{component:j.II,type:"textarea",name:"newPostText",placeholder:"Enter your message",validate:[C.C,U]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),T=s(7375),D=(0,T.$j)((function(t){return{posts:t.profilePage.posts}}),{addPost:P.q2})(O),F=function(t){var e=t.profile,s=t.status,r=t.isOwner,n=t.updateUserStatus,i=t.savePhoto,o=t.saveProfile;return(0,h.jsxs)("div",{children:[(0,h.jsx)(b,{profile:e,status:s,updateUserStatus:n,isOwner:r,savePhoto:i,saveProfile:o}),(0,h.jsx)(D,{})]})},M=s(9271),E=s(2932),J=s(7781),L=function(t){(0,o.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"refreshProfile",value:function(){var t=Number(this.props.match.params.userId);t||(t=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsx)(F,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(u.Component),q=(0,J.qC)((0,T.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,autorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:P.et,getUserStatus:P.Tq,updateUserStatus:P.OL,savePhoto:P.Ju,saveProfile:P.Ii}),M.EN,E.D)(L)},2932:function(t,e,s){s.d(e,{D:function(){return p}});var r=s(8683),n=s(5671),i=s(3144),o=s(136),a=s(5716),u=s(2791),l=s(9271),c=s(7375),d=s(184),p=function(t){var e=function(e){(0,o.Z)(u,e);var s=(0,a.Z)(u);function u(){return(0,n.Z)(this,u),s.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(t,(0,r.Z)({},this.props)):(0,d.jsx)(l.l_,{to:"/login"})}}]),u}(u.Component);return(0,c.$j)(h)(e)},h=function(t){return{isAuth:t.auth.isAuth}}},5898:function(t,e,s){t.exports=s.p+"static/media/jizn.532bf1248e55603312d6.webp"},885:function(t,e,s){s.d(e,{Z:function(){return n}});var r=s(181);function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var s=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var r,n,i=[],o=!0,a=!1;try{for(s=s.call(t);!(o=(r=s.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(u){a=!0,n=u}finally{try{o||null==s.return||s.return()}finally{if(a)throw n}}return i}}(t,e)||(0,r.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=110.f92f9649.chunk.js.map